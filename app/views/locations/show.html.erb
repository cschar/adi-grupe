<p id="notice"><%= notice %></p>

<%= tag.div id: "single-location-info",
            data: { locationinfo: @location.to_json(methods: [:my_tostring])
            } do %> <% end %>


<h2><%= @location.name %> -- <%= @location.ltype %>
  <span class="pull-right">location <%= @location.id %></span>
</h2>
<div class="row">
  <div class="col" >
    <% @grupes.all.each do |grupe|%>
        <!--Grupe list component-->
        <div class="d-flex p-2 "> <span class="color2"><%= grupe.name %>--</span></div>
        <div class="row ">
          <% grupe.users.all.each do |user|%>
              <div class="col-md-2 color3 ">
            <i class="fa fa-user-circle fa-2x"></i>
                <ul class="list-group">
                  <li class="list-group-item">user <%= user.id %></li>
                  <li class="list-group-item"> <%=  FFaker::Color.name  + FFaker::CheesyLingo.sentence.split(" ").sample  %></li>
                </ul>

              </div>

          <% end %>
          <!--5 max in grupe, show empty spots if less than 5-->
          <% [*1..(5-grupe.users.count)].each do |placeholder|%>
              <div class="col">
                <i class="fa fa-square-o fa-2x"></i>
                  nil
              </div>
          <% end %>


          <div class="col-md-2 pull-left">
             <%= link_to "view details", grupe %> <br/>
            <%= link_to join_grupe_path(grupe.id), class: "btn btn-outline-primary"  do %>
                Join up <i class="fa fa-cubes fa-2x"></i>
            <% end %>
          </div>
        </div>



    <% end %>

  </div>
  <div class="col-4">

    <%= tag.div nil, id: 'map' %>



  </div>
</div>


<div class="row">

<%= link_to new_grupe_path(location_id: @location.id ) do %>
      Create new Gruupe <i class="fa fa-bolt fa-2x"></i>
  <% end %> |
  <%= link_to 'Back', locations_path %>
</div>

